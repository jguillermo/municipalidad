!function(){"use strict";angular.module("Admin.User",[])}(),function(){"use strict";function a(a,b){a.search={value:""},a.users=[],a.yasebusco=!1,b.getList().then(function(b){a.users=b.data.users}),a.buscarPersona=function(){a.users=null,b.search(a.search).then(function(b){a.yasebusco=!0,a.users=b.data.users})}}angular.module("Admin.User").controller("UserCtrl",["$scope","userService",a])}(),function(){"use strict";function a(a,b,c,d,e){a.block={datos:{allowRead:!0,allowEdit:!0,isEdit:!1},phone:{allowRead:!0,allowEdit:!0,isEdit:!1}},a.user=[],a.identityTypes=[],a.phoneTypes={},a.block={phone:{loading:!1,validator:{}}},a.addphone=function(){return a.block.phone.loading?!1:(a.block.phone.loading=!0,void c.phoneEntityBlock().then(function(b){a.user.phone.push(b.data.list),a.block.phone.loading=!1}))},a.deletePhone=function(b){a.user.phone.splice(b,1)},a.save=function(){console.log(a.user),a.frm_edit_new_user.$valid?console.log("guardar y redirect"):(angular.forEach(a.frm_edit_new_user,function(a,b){"object"==typeof a&&-1===b.indexOf("$")&&(a.$touched=!0)}),a.frm_edit_new_user.$touched=!0)},d.getAllList().then(function(b){a.identityTypes=b.data.list}),e.getAllList().then(function(b){a.phoneTypes=b.data.list,angular.forEach(b.data.list,function(b,c){a.block.phone.validator[b.id]={pattern:b.pattern,pattern_msg:b.pattern_msg}}),console.log(a.block.phone.validator)}),c.getByIdE(b.userID).then(function(b){a.user=b.data.user})}angular.module("Admin.User").controller("UserEditNewCtrl",["$scope","$stateParams","userService","entIdentityTypeService","entPhoneTypeService",a])}(),function(){"use strict";function a(a,b){this.getList=function(){return b.jsonp(a.base_url+"user/lista")},this.search=function(c){return b.jsonp(a.base_url+"user/search",c)},this.getByIdE=function(c){return b.jsonp(a.base_url+"user/get-by-id",{id:c})},this.phoneEntityBlock=function(){return b.jsonp(a.base_url+"user/phone-entity-block")},this.byIdentityType=function(){return b.jsonp(a.base_url+"user/list-identity-type")}}angular.module("Admin.User").service("userService",["ADMINCONFIG","jgsJsonpServices",a])}();